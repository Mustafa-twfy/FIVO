# ميزة رابط موقع المتجر من Google Maps

## نظرة عام
تم إضافة ميزة جديدة تسمح للمتاجر بإدخال رابط موقعهم من Google Maps عند التسجيل، ويظهر هذا الرابط للسائقين عند قبول الطلبات.

## الميزات المضافة

### 1. تسجيل المتجر
- **الشاشة**: `StoreInfoScreen.js`
- **الميزة**: إضافة حقل "رابط موقع المتجر من Google Maps"
- **التحقق**: التأكد من أن الرابط صحيح من Google Maps
- **التوجيه**: إرشادات للمستخدم حول كيفية الحصول على الرابط

### 2. إنشاء الطلب
- **الشاشة**: `NewOrderScreen.js`
- **الميزة**: إضافة رابط موقع المتجر تلقائياً للطلب
- **المصدر**: يتم جلب الرابط من بيانات المتجر المحفوظة

### 3. عرض الطلبات للسائقين
- **الشاشة**: `AvailableOrdersScreen.js`
- **الميزة**: زر "عرض موقع المتجر" في كل طلب
- **الوظيفة**: فتح الرابط في المتصفح عند الضغط

### 4. لوحة تحكم السائق
- **الشاشة**: `DriverDashboardScreen.js`
- **الميزة**: زر "عرض موقع المتجر" في الطلب الجاري
- **الوظيفة**: فتح الرابط في المتصفح عند الضغط

## التحديثات في قاعدة البيانات

### جدول `registration_requests`
```sql
ALTER TABLE registration_requests 
ADD COLUMN location_url TEXT;
```

### جدول `orders`
```sql
ALTER TABLE orders 
ADD COLUMN store_location_url TEXT;
```

### جدول `stores`
```sql
ALTER TABLE stores 
ADD COLUMN location_url TEXT;
```

## كيفية الحصول على رابط Google Maps

### للمتاجر:
1. اذهب إلى [Google Maps](https://maps.google.com)
2. ابحث عن موقع متجرك
3. انقر على "مشاركة" (Share)
4. انسخ الرابط
5. أضف الرابط في حقل "رابط موقع المتجر" عند التسجيل

### أمثلة على الروابط المقبولة:
- `https://maps.google.com/?q=شارع+الملك+فهد+الرياض`
- `https://goo.gl/maps/ABC123`
- `https://maps.app.goo.gl/ABC123`

## التحقق من صحة الرابط
يتم التحقق من أن الرابط يحتوي على:
- `maps.google.com` أو
- `goo.gl/maps`

## الملفات المحدثة

### شاشات التطبيق:
- `screens/StoreInfoScreen.js` - إضافة حقل رابط الموقع
- `screens/NewOrderScreen.js` - إضافة الرابط للطلب
- `screens/AvailableOrdersScreen.js` - عرض زر موقع المتجر
- `DriverDashboardScreen.js` - عرض زر موقع المتجر في الطلب الجاري

### قاعدة البيانات:
- `add_location_url_fields.sql` - إضافة الحقول الجديدة
- `supabase.js` - تحديث البيانات التجريبية

## كيفية تشغيل التحديثات

### 1. تحديث قاعدة البيانات:
```sql
-- تشغيل الملف في Supabase SQL Editor
\i add_location_url_fields.sql
```

### 2. إعادة تشغيل التطبيق:
```bash
npm start
```

## ملاحظات مهمة

1. **التوافق**: الميزة متوافقة مع جميع الإصدارات السابقة
2. **الأمان**: الروابط تفتح في المتصفح الخارجي
3. **الأداء**: لا تؤثر على أداء التطبيق
4. **التجربة**: تحسن تجربة السائقين في الوصول لمواقع المتاجر

## اختبار الميزة

### للمتاجر:
1. سجل متجر جديد
2. أضف رابط موقع من Google Maps
3. أنشئ طلب جديد
4. تأكد من حفظ الرابط

### للسائقين:
1. سجل دخول كسائق
2. انتقل لشاشة الطلبات المتاحة
3. اضغط على "عرض موقع المتجر"
4. تأكد من فتح الرابط في المتصفح 