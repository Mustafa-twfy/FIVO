# ๐ ุชูุฑูุฑ ุญุงูุฉ ูุธุงู ุงูุฏุนู ุงูููู - ุชูุตูู ุจูุณ

## ๐ ุงูุชุดุฎูุต ุงูุญุงูู

### ุงููุดููุฉ ุงูุฑุฆูุณูุฉ
ูุธุงู ุงูุฏุนู ุงูููู **ูุง ูุนูู** ุจุณุจุจ ุชุถุงุฑุจ ูู ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```
โ ุงูุฌุฏูู ุงูุญุงูู: support_messages
   - ูุญุชูู ุนูู: driver_id (ููุณุงุฆููู ููุท)
   - ููููุฏ: user_type, user_id

โ ุงูููุฏ ูุชููุน:
   - user_type: 'driver' ุฃู 'store'
   - user_id: ูุนุฑู ุงููุณุชุฎุฏู
   - sender: 'user' ุฃู 'admin'
```

### ุงูุตูุญุงุช ุงููุฑุชุจุทุฉ ุจุงูุฏุนู ุงูููู

#### โ ุงูุณุงุฆููู (Driver Support)
| ุงูุตูุญุฉ | ุงูุญุงูุฉ | ุงููุธููุฉ |
|--------|--------|---------|
| `DriverDashboardScreen.js` | โ ูุฑุชุจุท | ุฒุฑ ุงูุฏุนู ุงูููู ูู ุงููุงุฆูุฉ |
| `PendingApprovalScreen.js` | โ ูุฑุชุจุท | ุฒุฑ "ุชูุงุตู ูุน ุงูุฏุนู ุงูููู" |
| `FinancialAccountsScreen.js` | โ ูุฑุชุจุท | ุฒุฑ ุงูุฏุนู ุงูููู ูููุณุงุนุฏุฉ |
| `DriverDrawerContent.js` | โ ูุฑุชุจุท | ูุงุฆูุฉ "ุงูุฏุนู ุงูููู" |
| `SupportChatScreen.js` | โ ููุฌูุฏ | ูุงุฌูุฉ ุงููุญุงุฏุซุฉ |

#### โ ุงููุชุงุฌุฑ (Store Support)
| ุงูุตูุญุฉ | ุงูุญุงูุฉ | ุงููุธููุฉ |
|--------|--------|---------|
| `StoreDashboardScreen.js` | โ ูุฑุชุจุท | ุฒุฑ ุงูุฏุนู ุงูููู ูู ุงููุงุฆูุฉ |
| `StorePendingApprovalScreen.js` | โ ูุฑุชุจุท | ุฒุฑ "ุชูุงุตู ูุน ุงูุฏุนู ุงูููู" |
| `StoreSupportChatScreen.js` | โ ููุฌูุฏ | ูุงุฌูุฉ ุงููุญุงุฏุซุฉ |

#### โ ุงูุฅุฏุงุฑุฉ (Admin Support)
| ุงูุตูุญุฉ | ุงูุญุงูุฉ | ุงููุธููุฉ |
|--------|--------|---------|
| `AdminSupportScreen.js` | โ ููุฌูุฏ | ุฅุฏุงุฑุฉ ุฌููุน ุงููุญุงุฏุซุงุช |
| `AdminDashboardScreen.js` | โ ูุฑุชุจุท | ุฅุญุตุงุฆูุงุช ุงูุฏุนู ุงูููู |

### ุงูููุฏ ุงูููุฌูุฏ

#### ุฏูุงู API ูู `supabase.js`
```javascript
export const supportAPI = {
  // โ ุฅุฑุณุงู ุฑุณุงูุฉ ุฏุนู ููู
  sendSupportMessage: async (userType, userId, message, sender = 'user')
  
  // โ ุฌูุจ ุฑุณุงุฆู ูุณุชุฎุฏู ูุนูู
  getSupportMessages: async (userType, userId)
  
  // โ ุฌูุจ ุฌููุน ุงููุญุงุฏุซุงุช (ููุฅุฏุงุฑุฉ)
  getAllSupportConversations: async ()
  
  // โ ุฌูุจ ุนุฏุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงูููุฑูุกุฉ
  getUnreadSupportCount: async ()
}
```

#### ูุงุฌูุงุช ุงููุณุชุฎุฏู
```javascript
// โ SupportChatScreen.js - ููุณุงุฆููู
// โ StoreSupportChatScreen.js - ูููุชุงุฌุฑ  
// โ AdminSupportScreen.js - ููุฅุฏุงุฑุฉ
```

## ๐๏ธ ุงูุญู ุงููุทููุจ

### ุงูุฎุทูุฉ 1: ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุชุดุบูู SQL ูู Supabase SQL Editor:

```sql
-- ุญุฐู ุงูุฌุฏุงูู ุงููุฏููุฉ
DROP TABLE IF EXISTS support_messages CASCADE;
DROP TABLE IF EXISTS store_support_messages CASCADE;

-- ุฅูุดุงุก ุงูุฌุฏูู ุงูููุญุฏ
CREATE TABLE support_messages (
    id SERIAL PRIMARY KEY,
    user_type VARCHAR(20) NOT NULL,
    user_id INTEGER NOT NULL,
    message TEXT NOT NULL,
    sender VARCHAR(20) NOT NULL,
    is_read BOOLEAN DEFAULT false,
    read_by_admin BOOLEAN DEFAULT false,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### ุงูุฎุทูุฉ 2: ุงุฎุชุจุงุฑ ุงููุธุงู
```bash
node test_support_system.js
```

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงููุธุงุฆู
- [ ] ุฅุฑุณุงู ุฑุณุงุฆู ูู ุงูุณุงุฆููู
- [ ] ุฅุฑุณุงู ุฑุณุงุฆู ูู ุงููุชุงุฌุฑ
- [ ] ุฌูุจ ุงูุฑุณุงุฆู ุญุณุจ ุงููุณุชุฎุฏู
- [ ] ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- [ ] ุฅุดุนุงุฑุงุช ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุนุฉ

### ุจุนุฏ ุงูุฅุตูุงุญ
- **ุนุฏุฏ ุงูุตูุญุงุช ุงููุฑุชุจุทุฉ**: 8 ุตูุญุงุช
- **ุนุฏุฏ ุฃููุงุน ุงููุณุชุฎุฏููู**: 3 (ุณุงุฆูููุ ูุชุงุฌุฑุ ุฅุฏุงุฑุฉ)
- **ุนุฏุฏ ุฏูุงู API**: 4 ุฏูุงู
- **ุนุฏุฏ ูุงุฌูุงุช ุงููุญุงุฏุซุฉ**: 3 ูุงุฌูุงุช

### ุงููุธุงุฆู ุงููุชุงุญุฉ
- โ ุฅุฑุณุงู ุฑุณุงุฆู ุงูุฏุนู ุงูููู
- โ ุฌูุจ ุงููุญุงุฏุซุงุช
- โ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- โ ุฅุดุนุงุฑุงุช ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
- โ ุชุตููู ุงูุฑุณุงุฆู ุญุณุจ ููุน ุงููุณุชุฎุฏู

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ูุจู ุงูุฅุตูุงุญ
```
โ ูุธุงู ุงูุฏุนู ุงูููู ูุง ูุนูู
โ ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุนุฏู ุชูุงูู ุจูู ุงูููุฏ ูุงูุฌุฏูู
```

### ุจุนุฏ ุงูุฅุตูุงุญ
```
โ ูุธุงู ุงูุฏุนู ุงูููู ูุนูู ุจุงููุงูู
โ ุฌููุน ุงูุตูุญุงุช ูุฑุชุจุทุฉ
โ ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู
โ ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช
โ ุฅุดุนุงุฑุงุช ููุฑูุฉ
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุจูุงูุงุช ุงูุญุงููุฉ**: ุณูุชู ุญุฐู ุฑุณุงุฆู ุงูุฏุนู ุงูููู ุงููุฏููุฉ
2. **ุงููุณุชุฎุฏููู**: ุชุฃูุฏ ูู ูุฌูุฏ ูุณุชุฎุฏููู ูู ุฌุฏุงูู `drivers` ู `stores`
3. **ุงูุงุฎุชุจุงุฑ**: ุงุฎุชุจุฑ ุงููุธุงู ุจุนุฏ ุงูุฅุตูุงุญ
4. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุฅุตูุงุญ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุดุบูู SQL** ูู Supabase SQL Editor
2. **ุงุฎุชุจุงุฑ ุงููุธุงู** ุจุงุณุชุฎุฏุงู `test_support_system.js`
3. **ุงูุชุญูู ูู ุงูุตูุญุงุช** ูู ุงูุชุทุจูู
4. **ุฅุฑุณุงู ุฑุณุงูุฉ ุชุฌุฑูุจูุฉ** ูู ูู ููุน ูุณุชุฎุฏู

**ูุธุงู ุงูุฏุนู ุงูููู ุฌุงูุฒ ููุฅุตูุงุญ! ๐ง** 